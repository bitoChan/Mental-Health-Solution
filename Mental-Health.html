<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <title>Mental-Health-Solution</title>
    <!--顯示繁體中文-->
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <!-- 设置网页图标 -->
    <link rel="shortcut icon" href="css/index/Medsimlogo.png" type="image/X-icon">
    <!-- 引入 A-Frame 和附加组件 -->
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="./aframe-extras-master/dist/aframe-extras.min.js"></script>
    <script src="./aframe-extras-master/src/components/sound.js"></script>
    <!-- CSS样式 -->
    <link rel="stylesheet" href="css\Mental-Health\style.css">
    
</head>
<body>
    <!-- 主场景 -->
    <a-scene id="scene" visible="true" mouse-cursor="">
        <a-image src="css/Mental-Health/introduction-background.png" position="0 0 -1" scale="5 5 5" class="clickable"></a-image>
        <a-image src="css/Mental-Health/introduction-text.png" position="0 1.6 -0.6" scale="1.3 1 1"></a-image>
        <!-- 在 A-Frame 外部添加一个 HTML按钮 -->
        <button class="start-button" onclick="startExperience()" >開始</button>
    </a-scene>

    <!-- 第二个场景：学校 -->
    <a-scene id="School" visible="false">
        <a-assets>
    <a-asset-item id="ClassRoom" src="https://raw.githubusercontent.com/bitoChan/Mental-Health-Solution/main/3D-Model/Classroom/Classroom.gltf"></a-asset-item>
    <a-asset-item id="Student" src="https://raw.githubusercontent.com/bitoChan/Mental-Health-Solution/main/3D-Model/Student/Student.gltf"></a-asset-item>
 </a-assets>

 <a-gltf-model position="0 0 0" scale="1 1 1" src="#ClassRoom"></a-gltf-model>
 <a-gltf-model position="0 -16 -90" scale="8 8 8" src="#Student" animation-mixer="clip: mixamo.com; timeScale: 0.7"></a-gltf-model>

     <!-- 添加Q1 選擇關心同學和-->

        <a-assets id="group1" visible="true">
            <a-asset-item id="Q1"
                src="https://raw.githubusercontent.com/bitoChan/Mental-Health-Solution/main/3D-Model/Q1-concernornot/Q1.gltf"></a-asset-item>
            <a-asset-item id="Q1-Yes"
                src="https://raw.githubusercontent.com/bitoChan/Mental-Health-Solution/main/3D-Model/Q1-concernornot/Q1.YES.gltf"></a-asset-item>
            <a-asset-item id="Q1-NO"
                src="https://raw.githubusercontent.com/bitoChan/Mental-Health-Solution/main/3D-Model/Q1-concernornot/Q1.NO.gltf"></a-asset-item>
        </a-assets>
        <a-entity>
            <a-gltf-model position="0 0 0" scale="1 1 1" src="#Q1"></a-gltf-model>
            <a-gltf-model position="0 0 0" scale="1 1 1" src="#Q1-Yes"></a-gltf-model>
            <a-gltf-model position="0 0 0" scale="1 1 1" src="#Q1-NO"></a-gltf-model>
        </a-entity>

 <a-entity camera look-controls="enabled: false" wasd-controls="enabled: false"></a-entity>

</a-scene>
    <script>
        // 开始体验的函数，隐藏主场景，显示学校场景
        function startExperience() {
            var sceneEl = document.getElementById('scene');
            var schoolEl = document.getElementById('School');
            sceneEl.setAttribute('visible', 'false');
            schoolEl.setAttribute('visible', 'true');
            var audio = new Audio("Sound/Crying.mp3");
            audio.loop = true; // 设置音频为循环播放
            audio.play();
        }

        // 禁用摄像头的查看控制
        AFRAME.registerComponent('disable-look', {
            init: function () {
                this.el.setAttribute('look-controls', {enabled: false});
                this.el.sceneEl.canvas.style.cursor = 'auto'; // 更改鼠标图标
            }
        });
        // 将 disable-look 组件添加到相机实体
        document.querySelector('[camera]').setAttribute('disable-look', '');
    </script>
</body>
</html>

